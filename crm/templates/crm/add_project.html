{% extends "auth_base.html" %}
{% block content %}      

{% load crispy_forms_tags %}

<!--Login--> 
<div class="container py-5">
  <h1>Добавление проекта</h1>
  <form method="POST">
    {% csrf_token %}
    {{ form_address.city|as_crispy_field }}
    <div class="row">
        <div class="form-group col-md-6 mb-0">
          {{ form_address.street|as_crispy_field }}
        </div>
        <div class="form-group col-md-6 mb-0">
          {{ form_address.numb|as_crispy_field }}
        </div>
    </div>
    {{ form_project.file|as_crispy_field }}
    <div class="row">
        <div class="form-group col-md-6 mb-0">
          {{ form_detail.lessor|as_crispy_field }}
        </div>
        <div class="form-group col-md-6 mb-0">
          {{ form_detail.lessor_phone|as_crispy_field }}
        </div>
    </div>
    <div class="row">
      <div class="form-group col-md-3 mb-0">
        {{ form_project.sq|as_crispy_field }}
      </div>
      <div class="form-group col-md-3 mb-0">
        {{ form_project.rent_tax|as_crispy_field }}
      </div>
      <div class="form-group col-md-3 mb-0">
        {{ form_detail.sq_price|as_crispy_field }}
      </div>
    </div>
    <div class="row">
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.sq_bay|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.sq_basemant|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
            {{ form_detail.len_rent|as_crispy_field }}
        </div>
    </div>
    <hr>
    <div class="row align-items-center">
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.floor_material|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.floor_level|as_crispy_field }}
        </div>
        <div class="form-group col-md-6 mb-0">
            {{ form_detail.floor_var|as_crispy_field }}
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="form-group col-md-2 mb-0">
          {{ form_detail.roof_stat|as_crispy_field }}
        </div>
        <div class="form-group col-md-2 mb-0">
          {{ form_detail.debarkader|as_crispy_field }}
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.radius_school|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.radius_len|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
            {{ form_detail.radius_bool|as_crispy_field }}
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="form-group col-md-2 mb-0">
          {{ form_detail.sewer|as_crispy_field }}
        </div>
        <div class="form-group col-md-2 mb-0">
          {{ form_detail.water|as_crispy_field }}
        </div>
        <div class="form-group col-md-2 mb-0">
            {{ form_detail.heat|as_crispy_field }}
        </div>
        <div class="form-group col-md-2 mb-0">
          {{ form_detail.electric|as_crispy_field }}
        </div>
        <div class="form-group col-md-2 mb-0">
          {{ form_detail.electric_up|as_crispy_field }}
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.parking_len|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.parking_material|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
            {{ form_detail.parking_max|as_crispy_field }}
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.delay|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
          {{ form_detail.delay_len|as_crispy_field }}
        </div>
        <div class="form-group col-md-3 mb-0">
            {{ form_detail.repair|as_crispy_field }}
        </div>
    </div>
    {{ form_detail.ads_url|as_crispy_field }}
    <button class="btn btn-primary mt-4" type="submit">Добавить</button>
  </form>
</div>

<script>
  $(function(){
    $("#id_sq_price").prop("readonly", true); 
    $('#id_rent_tax, #id_sq').keyup(function(){
       var value1 = parseFloat($('#id_rent_tax').val()) || 0;
       var value2 = parseFloat($('#id_sq').val()) || 0;
       $('#id_sq_price').val((value1 / value2).toFixed(2));
    });
 });
</script>

{% endblock %}